<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@100&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="/diya/style.css">
    <link rel="stylesheet" type="text/css" href="/firework/firework.css">
    <link rel="stylesheet" type="text/css" href="/candeel/style.css">

    <!-- <script type="text/javascript" src="script.js"></script> -->
    <script type="text/javascript" src="/firework/jquery.fireworks.js"></script>
    <title>Diwali Celebration 2021</title>

</head>

<body id="body">

    <!--  " -->

    <div class="container" id="container">

        <div class="confetti" style="display: none;" id="confetti" hidden>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
            <div class="confetti-piece"></div>
        </div>



        <div class="lights">
            <ul class="lightrope">
                <!-- <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li> -->
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>

        </div>



        <div class="lantern" id="lantern">
            <div class="lantern-hang"></div>
            <div class="lantern-top">
            </div>
            <div class="lantern-inner">
                <div class="lantern-left">

                </div>
                <div class="lantern-bottom">
                </div>
                <ul class="ribbons">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <!--   <li></li>
    <li></li>
    <li></li>
    <li></li> -->
                </ul>
            </div>
        </div>

        <div class="lantern" style="right:3%;margin:40px auto" id="lantern">
            <div class="lantern-hang"></div>
            <div class="lantern-top">
            </div>
            <div class="lantern-inner">
                <div class="lantern-left">

                </div>
                <div class="lantern-bottom">
                </div>
                <ul class="ribbons">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <!--   <li></li>
    <li></li>
    <li></li>
    <li></li> -->
                </ul>
            </div>
        </div>



        <div class="lantern" style="left:87%;margin:40px auto" id="lantern">
            <div class="lantern-hang"></div>
            <div class="lantern-top">
            </div>
            <div class="lantern-inner">
                <div class="lantern-left">

                </div>
                <div class="lantern-bottom">
                </div>
                <ul class="ribbons">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <!--   <li></li>
    <li></li>
    <li></li>
    <li></li> -->
                </ul>
            </div>
        </div>


        <div class="img-div" style="position: absolute;z-index: 2;">
            <img src="/src/knol.png.crdownload" style="border-radius: 8px;
            width: 15%;" alt="Knoldus">
        </div>

        <div class="content">
            <div class="diya">
                <div class="diya-top"></div>
                <div class="diya-left"></div>
                <div class="diya-right"></div>
            </div>
            <div class="flame">
                <div class="thread"></div>
                <div id="flame-top" style="display: none;" class="flame-top"></div>
                <div id="flame-blink" style="display: none;" class="blink"></div>
                <div id="flame-bottom" style="display: none;" class="flame-bottom"></div>
            </div>
        </div>

        <div class="content" style="left:71%; direction: rtl;">
            <div class="diya" style="margin-left: -15px;">
                <div class="diya-top"></div>
                <div class="diya-left" style="border-radius: 0px 14px 96px 0%;    width: 83px;height:64px"></div>
                <div class="diya-right" style="    border-radius: 0px 8px 12% 245px;"></div>


            </div>
            <div class="flame">
                <div class="thread" style="transform:rotatez(-12deg);"></div>
                <div id="flame-top1" style="display: none;" class="flame-top"></div>
                <div id="flame-blink1" style="display: none;" class="blink"></div>
                <div id="flame-bottom1" style="display: none;" class="flame-bottom"></div>
            </div>
        </div>

        <div>
            <h1 class="greeting fadeInU">Happy Diwali</h1>
            <div id="light1" style="display: none;z-index: 2;" class="light"></div>
            <div id="light2" style="display: none;z-index: 2;" class="light"></div>

        </div>


        <div class="candle">
            <div class="candle-1">
                <div class="wax"></div>
                <div class="flame flame1" id="candlle1" style="display: none;"></div>
            </div>
            <div class="candle-2">
                <div class="wax"></div>

                <div class="flame flame2" id="candlle2" style="display: none;"></div>


            </div>
            <div class="candle-3">
                <div class="wax"></div>
                <div class="flame flame3" id="candlle3" style="display: none;"></div>
            </div>

        </div>



        <div class="candle candle2" style="left:90%">
            <div class="candle-1">
                <div class="wax"></div>
                <div class="flame flame4" id="candlle4" style="display: none;"></div>
            </div>
            <div class="candle-2">
                <div class="wax"></div>
                <div class="flame flame5" id="candlle5" style="display: none;"></div>
            </div>
            <div class="candle-3">
                <div class="wax"></div>
                <div class="flame flame6" id="candlle6" style="display: none;"></div>
            </div>

        </div>

        <!-- <canvas id="canvas1" style= " position: absolute"></canvas> -->
        <section class="fireworks" id="sec1"></section>

        <div class="controls" style="display: inline-flex;">
            <button id="lightDiya" class="btn" style="    cursor: pointer;background-color: #FF9933;margin-right: 7px;">Light the Diya</button>
            <div id="voice-cmd" style="margin-top:5px;">

                <img id="voice-on" src="src/mic1.png" style="width:53px;    cursor: pointer;"></input>
                <img src="src/mic2.gif" id="voice-off" style="width:69px;" hidden />
              </div>
            <button id="resetBtn" class="btn" style="    cursor: pointer;background-color:  #138808;     margin-left: 7px;">Refresh</button>
        </div>
     
    </div>
 


    <script type="text/javascript">

    </script>

    <script>
        var flametop = document.getElementById("flame-top"),
            flameblink = document.getElementById("flame-blink"),
            flamebottom = document.getElementById("flame-bottom"),
            flametop1 = document.getElementById("flame-top1"),
            flameblink1 = document.getElementById("flame-blink1"),
            flamebottom1 = document.getElementById("flame-bottom1"),
            container = document.getElementById("container"),
            confetti = document.getElementById("confetti"),
            light1 = document.getElementById("light1"),
            light2 = document.getElementById("light2"),
            flame6 = document.querySelector('.flame6'),
            flame5 = document.querySelector('.flame5'),
            flame4 = document.querySelector('.flame4'),
            flame3 = document.querySelector('.flame3'),
            flame2 = document.querySelector('.flame2'),
            flame1 = document.querySelector('.flame1')

        lightDiya.onclick = function () {


            setTimeout(() => {
                flametop.style.display = "block";
                flameblink.style.display = "block";
                flamebottom.style.display = "block";
                flametop1.style.display = "block";
                flameblink1.style.display = "block";
                flamebottom1.style.display = "block";
            }, 1500);
            setTimeout(() => {

                flametop1.style.display = "block";
                flameblink1.style.display = "block";
                flamebottom1.style.display = "block";
            }, 3000);

            setTimeout(() => {
                flame1.style.display = "block";
                flame2.style.display = "block";
                flame3.style.display = "block";
            }, 4500);

            setTimeout(() => {
                flame4.style.display = "block";
                flame5.style.display = "block";
                flame6.style.display = "block";
            }, 6000);

            setTimeout(() => {
                light1.style.display = "block";
                light2.style.display = "block";
            }, 8000);

            setTimeout(() => {
                confetti.style.display = "block";
                $('.fireworks').fireworks({
                    sound: true, // sound effect
                    opacity: 0.9,
                    width: '100%',
                    height: '100%'
                });
            }, 10000);










        }
        resetBtn.onclick = function () {
            cmd.stop;
            // $('.fireworks').stop(stopAll, goToEnd)
            flametop.style.display = "none";
            flameblink.style.display = "none";
            flamebottom.style.display = "none";
            flametop1.style.display = "none";
            flameblink1.style.display = "none";
            flamebottom1.style.display = "none";
            confetti.style.display = "none";
            flame1.style.display = "none";
            flame2.style.display = "none";
            flame3.style.display = "none";
            flame4.style.display = "none";
            flame5.style.display = "none";
            flame6.style.display = "none";
            light1.style.display = "none";
            light2.style.display = "none";
        }



       
        var cmd = {
            // (A) PROPERTIES
            // ! Define your recognized colors here !
            voices: ["Happy Diwali", "Light", "Happy Deepawali"],
            recognition: null, // Speech recognition object

            hwrap: null, // HTML speech on/off button wrapper
            hon: null, // HTML speech on button
            hoff: null, // HTML speech off button

            // (B) INIT
            init: function () {
                // (B1) GET HTML ELEMENTS
                cmd.hwrap = document.getElementById("voice-cmd");
                cmd.hon = document.getElementById('voice-on');
                cmd.hoff = document.getElementById('voice-off');

                // (B2) SPEECH RECOGNITION SUPPORTED - ASK FOR PERMISSION
                // ! WILL FAIL IF NO MICROPHONE IS ATTACHED TO COMPUTER !
                if (window.hasOwnProperty('SpeechRecognition') || window.hasOwnProperty('webkitSpeechRecognition')) {
                    navigator.mediaDevices.getUserMedia({ audio: true })
                        .then(function (stream) {
                            cmd.hon.onclick = cmd.start;
                            cmd.hoff.onclick = cmd.stop;
                            cmd.hoff.disabled = true;
                        })
                        .catch(function (err) {
                            cmd.hwrap.innerHTML = "Please enable access and attach a microphone.";
                        });
                }

                // (B3) SPEECH RECOGNITION NOT SUPPORTED
                else {
                    cmd.hwrap.innerHTML = "Speech Recognition not supported on your browser";
                }
            },

            // (C) START VOICE COMMAND
            start: function () {
                // (C1) CREATE SPEECH RECOGNITION OBJECT
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                cmd.recognition = new SpeechRecognition();

                // (C2) SET OPTIONS
                cmd.recognition.continuous = false;
                cmd.recognition.interimResults = false;
                cmd.recognition.lang = "en-US";

                // (C3) WHAT TO DO ON ERROR + CHANGE BACKGROUND COLOR ON RESULT
                cmd.recognition.onerror = function (evt) {
                    console.log(evt);
                };
                cmd.recognition.onresult = function (evt) {
                    var voice = evt.results[0][0].transcript.toLowerCase();
                    // RECOGNIZED
                    if (voice === "happy diwali" || voice === "light" || voice === "happy deepawali") {


                        setTimeout(() => {
                            flametop.style.display = "block";
                            flameblink.style.display = "block";
                            flamebottom.style.display = "block";
                            flametop1.style.display = "block";
                            flameblink1.style.display = "block";
                            flamebottom1.style.display = "block";
                        }, 1500);
                        setTimeout(() => {

                            flametop1.style.display = "block";
                            flameblink1.style.display = "block";
                            flamebottom1.style.display = "block";
                        }, 3000);

                        setTimeout(() => {
                            flame1.style.display = "block";
                            flame2.style.display = "block";
                            flame3.style.display = "block";
                        }, 4500);

                        setTimeout(() => {
                            flame4.style.display = "block";
                            flame5.style.display = "block";
                            flame6.style.display = "block";
                        }, 6000);

                        setTimeout(() => {
                            light1.style.display = "block";
                            light2.style.display = "block";
                        }, 8000);

                        setTimeout(() => {
                            confetti.style.display = "block";
                            $('.fireworks').fireworks({
                                sound: true, // sound effect
                                opacity: 0.9,
                                width: '100%',
                                height: '100%'
                            });
                        }, 10000);


                    }


                    // NOT RECOGNIZED
                    else {
                        alert(voice + " not recognized - Please try again");
                    }

                    cmd.stop();
                };

                // (C4) GO!
                cmd.hon.hidden = true;
                cmd.hoff.hidden = false;
                cmd.recognition.start();
                sound.onended = function () {
                    cmd.hon.hidden = false;
                    cmd.hoff.hidden = true;

                }
            },

            // (D) STOP/CANCEL SPEECH RECOGNITION
            stop: function () {
                if (cmd.recognition != null) {
                    cmd.recognition.stop();
                    cmd.recognition = null;
                    cmd.hon.hidden = false;
                    cmd.hoff.hidden = true;
                }
            }
        };
        window.addEventListener("DOMContentLoaded", cmd.init);

    </script>

</body>

</html>